<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ü–æ–π–º–∞–π –ø–æ—Ü–µ–ª—É–π üíù</title>
    <link href="https://fonts.googleapis.com/css2?family=Bubblegum+Sans&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <style>
        * {
            font-family: 'Bubblegum Sans', sans-serif;
            touch-action: none;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        @keyframes float {
            0% {
                transform: translateY(0px) rotate(0deg);
            }

            50% {
                transform: translateY(-20px) rotate(5deg);
            }

            100% {
                transform: translateY(0px) rotate(0deg);
            }
        }

        @keyframes fall {
            0% {
                transform: translateY(-50px) rotate(0deg);
            }

            100% {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        @keyframes bgFloat {
            0% {
                transform: translateY(0) translateX(0);
            }

            50% {
                transform: translateY(-300px) translateX(100px);
            }

            100% {
                transform: translateY(0) translateX(0);
            }
        }

        .floating {
            animation: float 3s ease-in-out infinite;
        }

        /* –£—Å–∫–æ—Ä–µ–Ω–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è */
        .falling {
            animation: fall 2s linear;
        }

        .bg-float {
            animation: bgFloat 20s linear infinite;
        }

        .bg-gradient-animate {
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }

        .achievement-popup {
            backdrop-filter: blur(8px);
            background: rgba(255, 255, 255, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2);
        }

        .emoji-bg {
            opacity: 0.1;
            font-size: min(8rem, 20vw);
            pointer-events: none;
            z-index: 1;
        }

        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .control-button {
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(4px);
            border: 2px solid rgba(255, 255, 255, 0.5);
            touch-action: manipulation;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–∞–º–∏ */
        .comment {
            position: absolute;
            font-size: 0.75rem;
            /* –º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ */
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(4px);
            border-radius: 9999px;
            padding: 0.25rem 0.5rem;
            color: #D97706;
            font-weight: bold;
            z-index: 60;
            opacity: 1;
            transition: opacity 2s ease-out, transform 2s ease-out;
        }
    </style>
</head>

<body class="h-screen overflow-hidden">
    <div id="game-container"
        class="relative h-screen bg-gradient-animate bg-gradient-to-r from-purple-200 via-pink-300 to-blue-400">
        <!-- –§–æ–Ω–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è —ç–º–æ–¥–∑–∏ -->
        <div id="emoji-background" class="absolute inset-0 overflow-hidden pointer-events-none">
            <div class="emoji-bg bg-float absolute">üí´</div>
            <div class="emoji-bg bg-float absolute" style="animation-delay: -5s;">üåü</div>
            <div class="emoji-bg bg-float absolute" style="animation-delay: -10s;">üíñ</div>
            <div class="emoji-bg bg-float absolute" style="animation-delay: -15s;">üíó</div>
        </div>

        <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—á—ë—Ç–∞ -->
        <div
            class="absolute top-4 left-1/2 transform -translate-x-1/2 text-2xl md:text-4xl font-bold text-teal-600 z-50 bg-white/30 backdrop-blur-sm rounded-full px-6 md:px-8 py-2 shadow-lg">
            –°—á—ë—Ç: <span id="score" class="text-yellow-500">0</span>
        </div>

        <!-- –û–ø–æ–≤–µ—â–µ–Ω–∏–µ –æ–± –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ -->
        <div id="achievement"
            class="hidden achievement-popup absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-3xl p-4 md:p-8 text-center z-50 w-72 md:w-96">
            <div class="text-3xl md:text-4xl mb-2 md:mb-4">üéâ</div>
            <div id="achievement-text" class="text-xl md:text-2xl font-bold text-teal-600"></div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–æ–≤) -->
        <div id="comments-container" class="absolute inset-0 pointer-events-none"></div>

        <!-- –°–æ–æ–±—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—à–∏–±–∫–∏) -->
        <div id="message"
            class="hidden absolute top-20 left-1/2 transform -translate-x-1/2 text-xl md:text-2xl text-yellow-800 font-bold bg-white/50 backdrop-blur-md rounded-full px-6 md:px-8 py-3 shadow-lg">
        </div>

        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö -->
        <div class="md:hidden fixed bottom-32 left-0 right-0 flex justify-center gap-8 z-50">
            <button id="left-btn"
                class="control-button w-16 h-16 rounded-full text-3xl flex items-center justify-center">‚Üê</button>
            <button id="right-btn"
                class="control-button w-16 h-16 rounded-full text-3xl flex items-center justify-center">‚Üí</button>
        </div>

        <!-- –ò–≥—Ä–æ–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂ (—É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –∏ –ø–æ–¥–Ω—è—Ç—ã–π GIF) -->
        <div id="player" class="absolute bottom-12 left-1/2 transform -translate-x-1/2 w-40 md:w-64 h-40 md:h-64 z-40">
            <img src="./Game.gif" alt="–î–∞—à—É–ª—è" class="w-full h-full object-contain floating">
        </div>
    </div>

    <script>
        const player = document.getElementById('player');
        const gameContainer = document.getElementById('game-container');
        const scoreElement = document.getElementById('score');
        const messageElement = document.getElementById('message');
        const achievementElement = document.getElementById('achievement');
        const achievementText = document.getElementById('achievement-text');
        const leftBtn = document.getElementById('left-btn');
        const rightBtn = document.getElementById('right-btn');
        let score = 0;
        let playerPosition = window.innerWidth / 2;
        let isMovingLeft = false;
        let isMovingRight = false;
        let gameOver = false;

        // –ú–∞—Å—Å–∏–≤ –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–æ–≤
        const loveMessages = [
            "–õ—é–±–ª—é —Ç–µ–±—è! üíù",
            "–ù–∞–≤—Å–µ–≥–¥–∞ –º–æ—è –ø—Ä–∏–Ω—Ü–µ—Å—Å–∞! üå∏",
            "–õ—é–±–∏–º–∞—è –º–æ—è! üíó",
            "–°–∞–º–∞—è –æ—á–∞—Ä–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è! ‚≠ê",
            "–°–∞–º–∞—è –º–∏–ª–∞—è! ü§ó",
            "–¢—ã —Å–∏—è–µ—à—å –∫–∞–∫ –∑–≤–µ–∑–¥–∞! ‚ú®",
            "–¢—ã –≤–æ–ª—à–µ–±–Ω–∞—è! ü¶Ñ",
            "–¢—ã —Å–∞–º–∞—è –∫—Ä–∞—Å–∏–≤–∞—è! üå∑",
            "–° —Ç–æ–±–æ–π –º–∏—Ä —è—Ä—á–µ! ‚ú®",
            "–¢—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—à—å –º–µ–Ω—è! ‚ú®",
            "–¢–≤–æ—è —É–ª—ã–±–∫–∞ ‚Äî –º–æ—è —Ä–∞–¥–æ—Å—Ç—å! ‚≠ê",
            "–¢—ã –Ω–µ–ø–æ–≤—Ç–æ—Ä–∏–º–∞! ‚≠ê"
        ];

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        const achievements = {
            5: {
                text: "‚≠ê –î–∞—à—É–ª—å ‚≠ê<br>–ö–∞–∫ —Ö–æ—Ä–æ—à–æ —Ç—ã –ª–æ–≤–∏—à—å –ø–æ—Ü–µ–ª—É–∏!))",
                emoji: "üåü"
            },
            10: {
                text: "üíñ –ü—Ä–æ—Å—Ç–æ –≤–∞—É! üíñ<br>–ï—â–µ –Ω–µ–º–Ω–æ–≥–æ!",
                emoji: "üéâ"
            },
            15: {
                text: "–¢—ã –ø–æ–±–µ–¥–∏–ª–∞, –º–æ—è —à–∞–º–ø–∏–Ω—å–æ–Ω–∫–∞! –ù–µ –º–æ–≥—É –¥–æ–∂–¥–∞—Ç—å—Å—è, –∫–∞–∫ –∑–∞–≤—Ç—Ä–∞ –º—ã –æ—Ç–ø—Ä–∞–∑–¥–Ω—É–µ–º —ç—Ç–æ—Ç –¥–µ–Ω—å –≤–º–µ—Å—Ç–µ",
                emoji: "üëë"
            }
        };

        // –ú–æ–±–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Å–∞–Ω–∏—è–º–∏
        leftBtn.addEventListener('touchstart', () => isMovingLeft = true);
        leftBtn.addEventListener('touchend', () => isMovingLeft = false);
        rightBtn.addEventListener('touchstart', () => isMovingRight = true);
        rightBtn.addEventListener('touchend', () => isMovingRight = false);

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
        function updatePlayerPosition() {
            const speed = 10;
            if (isMovingLeft) {
                playerPosition -= speed;
            }
            if (isMovingRight) {
                playerPosition += speed;
            }
            player.style.left = `${playerPosition}px`;
            requestAnimationFrame(updatePlayerPosition);
        }
        requestAnimationFrame(updatePlayerPosition);

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
        document.addEventListener('keydown', (e) => {
            const speed = 25;
            if (e.key === 'ArrowLeft') {
                playerPosition -= speed;
            }
            if (e.key === 'ArrowRight') {
                playerPosition += speed;
            }
            player.style.left = `${playerPosition}px`;
        });

        function showAchievement(achievement) {
            achievementText.innerHTML = achievement.text;
            achievementElement.className = achievementElement.className.replace('hidden', 'block');
            setTimeout(() => {
                achievementElement.className += ' hidden';
            }, 3000);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è —Å –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–æ–º –ø–æ—Å–ª–µ –ø–æ–∏–º–∫–∏ —Å–º–∞–π–ª–∏–∫–∞
        function showLoveMessage() {
            const comment = document.createElement('div');
            comment.className = 'comment';
            const randomMessage = loveMessages[Math.floor(Math.random() * loveMessages.length)];
            comment.innerHTML = randomMessage;
            // –†–∞—Å–ø–æ–ª–∞–≥–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–∞–¥ —Ü–µ–Ω—Ç—Ä–æ–º –∏–≥—Ä–æ–∫–∞
            const playerRect = player.getBoundingClientRect();
            comment.style.left = `${playerRect.left + playerRect.width / 2 - 50}px`;
            comment.style.top = `${playerRect.top - 40}px`;
            document.getElementById('comments-container').appendChild(comment);
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∏—Å—á–µ–∑–∞–Ω–∏—è
            setTimeout(() => {
                comment.style.opacity = '0';
                comment.style.transform = 'translateY(-20px)';
            }, 100);
            // –£–¥–∞–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                comment.remove();
            }, 2100);
        }

        function createKiss() {
            if (gameOver) return;
            const kiss = document.createElement('div');
            kiss.innerHTML = 'üíã';
            kiss.style.fontSize = window.innerWidth < 768 ? '2rem' : '3rem';
            kiss.className = 'falling absolute';
            kiss.style.left = `${Math.random() * (window.innerWidth - 48)}px`;
            gameContainer.appendChild(kiss);

            const checkCollision = setInterval(() => {
                const kissRect = kiss.getBoundingClientRect();
                const playerRect = player.getBoundingClientRect();

                if (kissRect.bottom >= playerRect.top &&
                    kissRect.top <= playerRect.bottom &&
                    kissRect.right >= playerRect.left &&
                    kissRect.left <= playerRect.right) {
                    clearInterval(checkCollision);
                    kiss.remove();
                    score++;
                    scoreElement.textContent = score;
                    showLoveMessage();
                    createSparkle(kissRect.left, kissRect.top);

                    if (achievements[score]) {
                        showAchievement(achievements[score]);
                        if (score === 15) {
                            // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–≥—Ä—ã
                            gameOver = true;
                            clearInterval(kissInterval);
                            clearInterval(emojiInterval);
                            showMessage("–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!");
                        }
                    }
                }

                if (kissRect.top > window.innerHeight) {
                    clearInterval(checkCollision);
                    kiss.remove();
                    showMessage("–û–π! –í–æ–∑–≤—Ä–∞—â–∞–π—Å—è –∑–∞ –µ—â—ë –æ–¥–Ω–∏–º –ø–æ—Ü–µ–ª—É–µ–º! ü•∫");
                }
            }, 50);
        }

        function createSparkle(x, y) {
            const sparkles = ['‚ú®', 'üíñ', 'üí´', '‚≠ê'];
            const sparkle = document.createElement('div');
            sparkle.innerHTML = sparkles[Math.floor(Math.random() * sparkles.length)];
            sparkle.className = 'absolute text-3xl md:text-4xl transform scale-150 transition-all duration-500';
            sparkle.style.left = `${x}px`;
            sparkle.style.top = `${y}px`;
            gameContainer.appendChild(sparkle);

            setTimeout(() => sparkle.remove(), 500);
        }

        function createFloatingEmoji() {
            if (gameOver) return;
            const emojis = ['üíù', 'üíï', 'üíñ', 'üå∏', '‚ú®', 'üíó'];
            const emoji = document.createElement('div');
            emoji.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
            emoji.className = 'absolute text-2xl md:text-4xl floating opacity-20';
            emoji.style.left = `${Math.random() * 100}vw`;
            emoji.style.top = `${Math.random() * 100}vh`;
            document.getElementById('emoji-background').appendChild(emoji);

            setTimeout(() => emoji.remove(), 6000);
        }

        function showMessage(text) {
            messageElement.textContent = text;
            messageElement.classList.remove('hidden');
            setTimeout(() => {
                messageElement.classList.add('hidden');
            }, 2000);
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–≥—Ä—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
        const gameSpeed = window.innerWidth < 768 ? 2500 : 2000;
        const kissInterval = setInterval(createKiss, gameSpeed);
        const emojiInterval = setInterval(createFloatingEmoji, 1000);

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
        window.addEventListener('resize', () => {
            player.style.left = `${playerPosition}px`;
        });
    </script>
</body>

</html>
